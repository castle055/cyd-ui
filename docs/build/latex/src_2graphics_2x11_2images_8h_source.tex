\doxysection{images.\+h}
\hypertarget{src_2graphics_2x11_2images_8h_source}{}\label{src_2graphics_2x11_2images_8h_source}\index{src/graphics/x11/images.h@{src/graphics/x11/images.h}}
\mbox{\hyperlink{src_2graphics_2x11_2images_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00001}00001\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00002}00002\ \textcolor{comment}{//\ Created\ by\ castle\ on\ 1/25/23.}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00003}00003\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00005}00005\ \textcolor{preprocessor}{\#ifndef\ CYD\_UI\_X11\_IMAGES\_H}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00006}00006\ \textcolor{preprocessor}{\#define\ CYD\_UI\_X11\_IMAGES\_H}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <jpeglib.h>}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00011}\mbox{\hyperlink{namespacex11_1_1imgs}{00011}}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacex11_1_1imgs}{x11::imgs}}\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00012}\mbox{\hyperlink{structx11_1_1imgs_1_1jpg__err__mgr}{00012}}\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structx11_1_1imgs_1_1jpg__err__mgr}{jpg\_err\_mgr}}\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00013}\mbox{\hyperlink{structx11_1_1imgs_1_1jpg__err__mgr_a27b71f6657be901629ca4fb708787770}{00013}}\ \ \ \ \ \ \ jpeg\_error\_mgr\ \mbox{\hyperlink{structx11_1_1imgs_1_1jpg__err__mgr_a27b71f6657be901629ca4fb708787770}{pub}};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00014}00014\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00015}00015\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00016}00016\ \ \ \ \ METHODDEF(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00017}\mbox{\hyperlink{namespacex11_1_1imgs_a36779ab69d945a1e7159c8578041f9b2}{00017}}\ \ \ \ \ \mbox{\hyperlink{namespacex11_1_1imgs_a36779ab69d945a1e7159c8578041f9b2}{jpg\_error\_exit}}(j\_common\_ptr\ cinfo)\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00018}00018\ \ \ \ \ \ \ (*cinfo-\/>err-\/>output\_message)(cinfo);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00019}00019\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00020}00020\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00021}\mbox{\hyperlink{structx11_1_1imgs_1_1img__data}{00021}}\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structx11_1_1imgs_1_1img__data}{img\_data}}\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00022}\mbox{\hyperlink{structx11_1_1imgs_1_1img__data_ab09e9269e3f6980425ee535e256a4ecb}{00022}}\ \ \ \ \ \ \ ulong\ \mbox{\hyperlink{structx11_1_1imgs_1_1img__data_ab09e9269e3f6980425ee535e256a4ecb}{width}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00023}\mbox{\hyperlink{structx11_1_1imgs_1_1img__data_ade5590ff5608fc235412ec669f50856a}{00023}}\ \ \ \ \ \ \ ulong\ \mbox{\hyperlink{structx11_1_1imgs_1_1img__data_ade5590ff5608fc235412ec669f50856a}{height}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00024}\mbox{\hyperlink{structx11_1_1imgs_1_1img__data_a194d8541177ebcd68cadaf1411986dc5}{00024}}\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structx11_1_1imgs_1_1img__data_a194d8541177ebcd68cadaf1411986dc5}{components}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00025}\mbox{\hyperlink{structx11_1_1imgs_1_1img__data_a8031e8fe029af09e4042f14330416ce9}{00025}}\ \ \ \ \ \ \ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{structx11_1_1imgs_1_1img__data_a8031e8fe029af09e4042f14330416ce9}{data}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00026}00026\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00027}00027\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00028}\mbox{\hyperlink{namespacex11_1_1imgs_ad24a4a5ef07723dc0f934e1d1acd3094}{00028}}\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structx11_1_1imgs_1_1img__data}{img\_data}}\ \mbox{\hyperlink{namespacex11_1_1imgs_ad24a4a5ef07723dc0f934e1d1acd3094}{read\_jpg}}(str\ path)\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00029}00029\ \ \ \ \ \ \ FILE*\ infile;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00030}00030\ \ \ \ \ \ \ JSAMPARRAY\ buffer;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00031}00031\ \ \ \ \ \ \ jpeg\_decompress\_struct\ cinfo\ \{\};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00032}00032\ \ \ \ \ \ \ \mbox{\hyperlink{structx11_1_1imgs_1_1jpg__err__mgr}{jpg\_err\_mgr}}\ jerr\ \{\};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00033}00033\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00034}00034\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((infile\ =\ fopen(path.c\_str(),\ \textcolor{stringliteral}{"{}rb"{}}))\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00035}00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00036}00036\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00037}00037\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00038}00038\ \ \ \ \ \ \ cinfo.err\ =\ jpeg\_std\_error(\&jerr.pub);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00039}00039\ \ \ \ \ \ \ jerr.pub.error\_exit\ =\ \mbox{\hyperlink{namespacex11_1_1imgs_a36779ab69d945a1e7159c8578041f9b2}{jpg\_error\_exit}};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00040}00040\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00041}00041\ \ \ \ \ \ \ jpeg\_create\_decompress(\&cinfo);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00042}00042\ \ \ \ \ \ \ jpeg\_stdio\_src(\&cinfo,\ infile);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00043}00043\ \ \ \ \ \ \ jpeg\_read\_header(\&cinfo,\ TRUE);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00044}00044\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00045}00045\ \ \ \ \ \ \ jpeg\_start\_decompress(\&cinfo);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00046}00046\ \ \ \ \ \ \ JDIMENSION\ row\_stride\ =\ cinfo.output\_width\ *\ cinfo.output\_components;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00047}00047\ \ \ \ \ \ \ buffer\ =\ (*cinfo.mem-\/>alloc\_sarray)(}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00048}00048\ \ \ \ \ \ \ \ \ (j\_common\_ptr)\ \&cinfo,}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00049}00049\ \ \ \ \ \ \ \ \ JPOOL\_IMAGE,}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00050}00050\ \ \ \ \ \ \ \ \ row\_stride,}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00051}00051\ \ \ \ \ \ \ \ \ 1}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00052}00052\ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00053}00053\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00054}00054\ \ \ \ \ \ \ \mbox{\hyperlink{structlogging_1_1logger}{logging::logger}}\ \mbox{\hyperlink{colors_8cpp_a2545ccd7b824ac18e5311a4489af01fa}{logg}}\ \{\};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00055}00055\ \ \ \ \ \ \ \textcolor{keyword}{auto}*\ data\ =\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*)\ malloc(cinfo.output\_height\ *\ cinfo.output\_width\ *\ 4);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00056}00056\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00057}00057\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (cinfo.output\_scanline\ <\ cinfo.output\_height)\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00058}00058\ \ \ \ \ \ \ \ \ jpeg\_read\_scanlines(\&cinfo,\ buffer,\ 1);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (uint\ i\ =\ 0;\ i\ <\ row\_stride;\ i\ +=\ cinfo.output\_components)\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ c1\ =\ buffer[0][i];}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ c2\ =\ buffer[0][i\ +\ 1];}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ c3\ =\ buffer[0][i\ +\ 2];}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ uint\ r\ =\ cinfo.output\_width\ *\ 4\ *\ (cinfo.output\_scanline\ -\/\ 1);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ data[r\ +\ (4\ *\ i\ /\ 3)\ +\ 0]\ =\ c3;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ data[r\ +\ (4\ *\ i\ /\ 3)\ +\ 1]\ =\ c2;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ data[r\ +\ (4\ *\ i\ /\ 3)\ +\ 2]\ =\ c1;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ data[r\ +\ (4\ *\ i\ /\ 3)\ +\ 3]\ =\ 5;}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00068}00068\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00069}00069\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00070}00070\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00071}00071\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00072}00072\ \ \ \ \ \ \ jpeg\_finish\_decompress(\&cinfo);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00073}00073\ \ \ \ \ \ \ jpeg\_destroy\_decompress(\&cinfo);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00074}00074\ \ \ \ \ \ \ fclose(infile);}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00075}00075\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00076}00076\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00077}00077\ \ \ \ \ \ \ \ \ cinfo.output\_width,}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00078}00078\ \ \ \ \ \ \ \ \ cinfo.output\_height,}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00079}00079\ \ \ \ \ \ \ \ \ 4,}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00080}00080\ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{char}*)\ data,}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00081}00081\ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00082}00082\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00083}00083\ \}}
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{src_2graphics_2x11_2images_8h_source_l00085}00085\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//CYD\_UI\_X11\_IMAGES\_H}}

\end{DoxyCode}
