\doxysection{src/graphics/x11/render/render.cpp File Reference}
\hypertarget{render_8cpp}{}\label{render_8cpp}\index{src/graphics/x11/render/render.cpp@{src/graphics/x11/render/render.cpp}}
{\ttfamily \#include "{}../state/state.\+hpp"{}}\newline
{\ttfamily \#include "{}render.\+hpp"{}}\newline
{\ttfamily \#include "{}cydstd/logging.\+hpp"{}}\newline
{\ttfamily \#include $<$X11/\+Xlib.\+h$>$}\newline
Include dependency graph for render.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{render_8cpp__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structxcolor__hot__cache__entry__t}{xcolor\+\_\+hot\+\_\+cache\+\_\+entry\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca}{render\+\_\+sbr}} (\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t}{cydui\+::graphics\+::window\+\_\+t}} \texorpdfstring{$\ast$}{*}win, XImage \texorpdfstring{$\ast$}{*}image)
\item 
void \mbox{\hyperlink{render_8cpp_a912e5e13a2361939b93713a8862c228f}{render\+\_\+task}} (\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t}{cydui\+::threading\+::thread\+\_\+t}} \texorpdfstring{$\ast$}{*}this\+\_\+thread)
\item 
XColor \mbox{\hyperlink{render_8cpp_a3241cbbe248b21be72e8ac88018b8bb6}{color\+\_\+to\+\_\+xcolor}} (\mbox{\hyperlink{structcydui_1_1graphics_1_1color_1_1Color}{color\+::\+Color}} color)
\item 
Xft\+Color \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{render_8cpp_a21a1a805e821f2aed3fda93f912fe297}{color\+\_\+to\+\_\+xftcolor}} (\mbox{\hyperlink{structcydui_1_1graphics_1_1color_1_1Color}{color\+::\+Color}} color)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structlogging_1_1logger}{logging\+::logger}} \mbox{\hyperlink{render_8cpp_a366be6f40b16667228908e3b2cf09e8a}{xlog\+\_\+ctrl}} = \{.name = "{}X11\+::\+RENDER\+::\+CTRL"{}, .on = false\}
\item 
\mbox{\hyperlink{structlogging_1_1logger}{logging\+::logger}} \mbox{\hyperlink{render_8cpp_a8da58dd979b3e2a9a0e492ecb620769c}{xlog\+\_\+task}} = \{.name = "{}X11\+::\+RENDER\+::\+TASK"{}, .on = true\}
\item 
static std\+::mutex \mbox{\hyperlink{render_8cpp_abd02e0d2de9881fe9c0b60ed36f679a5}{x\+\_\+mtx}} \{\}
\item 
static std\+::unordered\+\_\+map$<$ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}, XColor $>$ \mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{xcolor\+\_\+cache}}
\item 
static constexpr \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}} \mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\+\_\+hot\+\_\+cache\+\_\+size}} = 8
\item 
static \mbox{\hyperlink{structxcolor__hot__cache__entry__t}{xcolor\+\_\+hot\+\_\+cache\+\_\+entry\+\_\+t}} \mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{xcolor\+\_\+hot\+\_\+cache}} \mbox{[}\mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\+\_\+hot\+\_\+cache\+\_\+size}}\mbox{]}
\item 
static \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}} \mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\+\_\+hot\+\_\+cache\+\_\+current\+\_\+insert\+\_\+index}} = 0U
\item 
static std\+::unordered\+\_\+map$<$ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}, Xft\+Color \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{xftcolor\+\_\+cache}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{render_8cpp_a3241cbbe248b21be72e8ac88018b8bb6}\label{render_8cpp_a3241cbbe248b21be72e8ac88018b8bb6} 
\index{render.cpp@{render.cpp}!color\_to\_xcolor@{color\_to\_xcolor}}
\index{color\_to\_xcolor@{color\_to\_xcolor}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{color\_to\_xcolor()}{color\_to\_xcolor()}}
{\footnotesize\ttfamily XColor color\+\_\+to\+\_\+xcolor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcydui_1_1graphics_1_1color_1_1Color}{color\+::\+Color}}}]{color }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00102}{102}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00103\ \ \ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}\ color\_id\ =\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_id();}
\DoxyCodeLine{00104\ \ \ }
\DoxyCodeLine{00105\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \&entry:\ \mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{xcolor\_hot\_cache}})\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{if}\ (entry.id\ ==\ color\_id)\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ entry.xcolor;}
\DoxyCodeLine{00108\ \ \ \ \ \}}
\DoxyCodeLine{00109\ \ \ \}}
\DoxyCodeLine{00110\ \ \ }
\DoxyCodeLine{00111\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{xcolor\_cache}}.contains(color\_id))\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{auto}\ \&c\ =\ \mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{xcolor\_cache}}[color\_id];}
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{xcolor\_hot\_cache}}[\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}++]\ =\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \ \ .\mbox{\hyperlink{structxcolor__hot__cache__entry__t_a9cc389842e49cb4f1fef8adf1e0ddbd5}{id}}\ =\ color\_id,}
\DoxyCodeLine{00115\ \ \ \ \ \ \ .xcolor\ =\ c,}
\DoxyCodeLine{00116\ \ \ \ \ \};}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ >=\ \mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\_hot\_cache\_size}})\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ =\ 0\mbox{\hyperlink{cydui__events_8h_ab3c7af4820830f9166ede9e5623c4e73a4c614360da93c0a041b22e537de151eb}{U}};}
\DoxyCodeLine{00119\ \ \ \ \ \}}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{00121\ \ \ \}}
\DoxyCodeLine{00122\ \ \ }
\DoxyCodeLine{00123\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}}\ =\ \mbox{\hyperlink{namespacex11_1_1state_a53916a7a1ae17627e69ad45f66378fe5}{state::get\_dpy}}();}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}}\ =\ \mbox{\hyperlink{namespacex11_1_1state_a5685733b4b3744465723dda6a15ebef7}{state::get\_screen}}();}
\DoxyCodeLine{00125\ \ \ Colormap\ map\ =\ DefaultColormap(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}});}
\DoxyCodeLine{00126\ \ \ XColor\ c;}
\DoxyCodeLine{00127\ \ \ XParseColor(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ map,\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_string().c\_str(),\ \&c);}
\DoxyCodeLine{00128\ \ \ XAllocColor(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ map,\ \&c);}
\DoxyCodeLine{00129\ \ \ }
\DoxyCodeLine{00130\ \ \ \mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{xcolor\_hot\_cache}}[\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}++]\ =\ \{}
\DoxyCodeLine{00131\ \ \ \ \ .\mbox{\hyperlink{structxcolor__hot__cache__entry__t_a9cc389842e49cb4f1fef8adf1e0ddbd5}{id}}\ =\ color\_id,}
\DoxyCodeLine{00132\ \ \ \ \ .xcolor\ =\ c,}
\DoxyCodeLine{00133\ \ \ \};}
\DoxyCodeLine{00134\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ >=\ \mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\_hot\_cache\_size}})\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ =\ 0\mbox{\hyperlink{cydui__events_8h_ab3c7af4820830f9166ede9e5623c4e73a4c614360da93c0a041b22e537de151eb}{U}};}
\DoxyCodeLine{00136\ \ \ \}}
\DoxyCodeLine{00137\ \ \ }
\DoxyCodeLine{00138\ \ \ \mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{xcolor\_cache}}[color\_id]\ =\ c;}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{00140\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{render_8cpp_a3241cbbe248b21be72e8ac88018b8bb6_cgraph}
\end{center}
\end{figure}
\Hypertarget{render_8cpp_a21a1a805e821f2aed3fda93f912fe297}\label{render_8cpp_a21a1a805e821f2aed3fda93f912fe297} 
\index{render.cpp@{render.cpp}!color\_to\_xftcolor@{color\_to\_xftcolor}}
\index{color\_to\_xftcolor@{color\_to\_xftcolor}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{color\_to\_xftcolor()}{color\_to\_xftcolor()}}
{\footnotesize\ttfamily Xft\+Color \texorpdfstring{$\ast$}{*} color\+\_\+to\+\_\+xftcolor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcydui_1_1graphics_1_1color_1_1Color}{color\+::\+Color}}}]{color }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00144}{144}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00145\ \ \ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}\ color\_id\ =\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_id();}
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{xftcolor\_cache}}.contains(color\_id))}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{xftcolor\_cache}}[color\_id];}
\DoxyCodeLine{00148\ \ \ }
\DoxyCodeLine{00149\ \ \ \textcolor{keyword}{auto}*\ c\ =\ \textcolor{keyword}{new}\ XftColor;}
\DoxyCodeLine{00150\ \ \ }
\DoxyCodeLine{00151\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}}\ =\ \mbox{\hyperlink{namespacex11_1_1state_a53916a7a1ae17627e69ad45f66378fe5}{state::get\_dpy}}();}
\DoxyCodeLine{00152\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}}\ =\ \mbox{\hyperlink{namespacex11_1_1state_a5685733b4b3744465723dda6a15ebef7}{state::get\_screen}}();}
\DoxyCodeLine{00153\ \ \ \textcolor{keywordflow}{if}\ (!XftColorAllocName(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},}
\DoxyCodeLine{00154\ \ \ \ \ DefaultVisual(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}}),}
\DoxyCodeLine{00155\ \ \ \ \ DefaultColormap(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}}),}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_string().c\_str(),}
\DoxyCodeLine{00157\ \ \ \ \ c))\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \mbox{\hyperlink{render_8cpp_a366be6f40b16667228908e3b2cf09e8a}{xlog\_ctrl}}.\mbox{\hyperlink{structlogging_1_1logger_ae412f4d42c6e53803201856b5ceba5aa}{error}}(\textcolor{stringliteral}{"{}Cannot\ allocate\ color\ \%s"{}},\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_string().c\_str());}
\DoxyCodeLine{00159\ \ \ \}}
\DoxyCodeLine{00160\ \ \ }
\DoxyCodeLine{00161\ \ \ \mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{xftcolor\_cache}}[color\_id]\ =\ c;}
\DoxyCodeLine{00162\ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{00163\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{render_8cpp_a21a1a805e821f2aed3fda93f912fe297_cgraph}
\end{center}
\end{figure}
\Hypertarget{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca}\label{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca} 
\index{render.cpp@{render.cpp}!render\_sbr@{render\_sbr}}
\index{render\_sbr@{render\_sbr}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{render\_sbr()}{render\_sbr()}}
{\footnotesize\ttfamily void render\+\_\+sbr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t}{cydui\+::graphics\+::window\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{win,  }\item[{XImage \texorpdfstring{$\ast$}{*}}]{image }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00018}{18}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00019\ \ \ \textcolor{comment}{//window\_render\_req\ req;}}
\DoxyCodeLine{00020\ \ \ }
\DoxyCodeLine{00021\ \ \ \textcolor{comment}{//win-\/>render\_mtx.lock();}}
\DoxyCodeLine{00022\ \ \ \textcolor{comment}{//bool\ dirty\ =\ win-\/>dirty;}}
\DoxyCodeLine{00023\ \ \ \textcolor{comment}{//win-\/>dirty\ =\ false;}}
\DoxyCodeLine{00024\ \ \ \textcolor{comment}{//win-\/>render\_mtx.unlock();}}
\DoxyCodeLine{00025\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00026\ \ \ \textcolor{comment}{//if\ (!dirty)}}
\DoxyCodeLine{00027\ \ \ \textcolor{comment}{//\ \ return;}}
\DoxyCodeLine{00028\ \ \ }
\DoxyCodeLine{00029\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_ada7b7df437402a71353d45d05ef32065}{render\_mtx}}.lock();}
\DoxyCodeLine{00030\ \ \ \{}
\DoxyCodeLine{00031\ \ \ \ \ image-\/>depth\ =\ DisplayPlanes(\mbox{\hyperlink{namespacex11_1_1state_a53916a7a1ae17627e69ad45f66378fe5}{state::get\_dpy}}(),\ \mbox{\hyperlink{namespacex11_1_1state_a5685733b4b3744465723dda6a15ebef7}{state::get\_screen}}());}
\DoxyCodeLine{00032\ \ \ \ \ image-\/>format\ =\ ZPixmap;}
\DoxyCodeLine{00033\ \ \ \ \ image-\/>xoffset\ =\ 0;}
\DoxyCodeLine{00034\ \ \ \ \ image-\/>data\ =\ (\textcolor{keywordtype}{char}*)\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structmd__buffer__t_a42db81e853e05dcf04b4f00840bfee30}{data}};}
\DoxyCodeLine{00035\ \ \ \ \ image-\/>width\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_afd28dda06874905136d50de6911a0242}{width}}();}
\DoxyCodeLine{00036\ \ \ \ \ image-\/>height\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_aa70c0fa0014f555358a2d07198b00f69}{height}}();}
\DoxyCodeLine{00037\ \ \ \ \ image-\/>bitmap\_pad\ =\ 32;}
\DoxyCodeLine{00038\ \ \ \ \ image-\/>bitmap\_unit\ =\ 32;}
\DoxyCodeLine{00039\ \ \ \ \ image-\/>bits\_per\_pixel\ =\ 32;}
\DoxyCodeLine{00040\ \ \ \ \ image-\/>bytes\_per\_line\ =\ (int)\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_afd28dda06874905136d50de6911a0242}{width}}()\ *\ 4;}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{if}\ (0\ !=\ XInitImage(image)}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \&\&\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a9bd4f23ce9e98928a9efd918cd22d3d1}{gc}})\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \textcolor{comment}{//if\ (x\_mtx.try\_lock())\ \{}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_pev\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aeaaac77ccd1cbcb50a36ce5236d0f0d4}{profiler}}-\/>\mbox{\hyperlink{structprof_1_1context__t_a1be702fd81e660750ae54216bc14ed80}{scope\_event}}(\textcolor{stringliteral}{"{}render::render\_sbr"{}});}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \textcolor{comment}{//win-\/>x\_mtx.lock();}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ XPutImage(\mbox{\hyperlink{namespacex11_1_1state_a53916a7a1ae17627e69ad45f66378fe5}{state::get\_dpy}}(),}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a1eb9b75f5e17f1d1e8b11138eda9ee66}{xwin}},}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a9bd4f23ce9e98928a9efd918cd22d3d1}{gc}},}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ image,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ 0,\ 0,}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ 0,\ 0,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_afd28dda06874905136d50de6911a0242}{width}}(),\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_aa70c0fa0014f555358a2d07198b00f69}{height}}()}
\DoxyCodeLine{00053\ \ \ \ \ \ \ );}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \textcolor{comment}{//x\_mtx.unlock();}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \textcolor{comment}{//\}}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \textcolor{comment}{//X\ Flush(state::get\_dpy());}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{comment}{//XDestroyImage(image);}}
\DoxyCodeLine{00059\ \ \ \ \ \}}
\DoxyCodeLine{00060\ \ \ \}}
\DoxyCodeLine{00061\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_ada7b7df437402a71353d45d05ef32065}{render\_mtx}}.unlock();}
\DoxyCodeLine{00062\ \ \ \textcolor{comment}{//win-\/>x\_mtx.unlock();}}
\DoxyCodeLine{00063\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca_icgraph}
\end{center}
\end{figure}
\Hypertarget{render_8cpp_a912e5e13a2361939b93713a8862c228f}\label{render_8cpp_a912e5e13a2361939b93713a8862c228f} 
\index{render.cpp@{render.cpp}!render\_task@{render\_task}}
\index{render\_task@{render\_task}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{render\_task()}{render\_task()}}
{\footnotesize\ttfamily void render\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t}{cydui\+::threading\+::thread\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{this\+\_\+thread }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00067}{67}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00068\ \ \ \mbox{\hyperlink{render_8cpp_a8da58dd979b3e2a9a0e492ecb620769c}{xlog\_task}}.\mbox{\hyperlink{structlogging_1_1logger_ad8cb1a2731cf690ffa77a77644551d84}{debug}}(\textcolor{stringliteral}{"{}Started\ render\ thread"{}});}
\DoxyCodeLine{00069\ \ \ \textcolor{keyword}{auto}*\ render\_data\ =\ (\mbox{\hyperlink{structx11_1_1render_1_1RenderThreadData}{render::RenderThreadData}}*)\ this\_thread-\/>\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t_a4ffcba2ceb7e17d4a78e07ce5a280433}{data}};}
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{auto}\ t0\ =\ std::chrono::system\_clock::now();}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{while}\ (this\_thread-\/>\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t_a230c1adb68eeb06a399359ebb1fac07b}{running}})\ \{}
\DoxyCodeLine{00072\ \ \ \ \ t0\ =\ std::chrono::system\_clock::now();}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca}{render\_sbr}}(render\_data-\/>win,\ render\_data-\/>image);}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{comment}{//std::this\_thread::sleep\_until(t0\ +\ 16666us);\ //\ 60\ FPS}}
\DoxyCodeLine{00075\ \ \ \ \ std::this\_thread::sleep\_until(t0\ +\ 2\ *\ 16666us);\ \textcolor{comment}{//\ 30\ FPS}}
\DoxyCodeLine{00076\ \ \ \}}
\DoxyCodeLine{00077\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{render_8cpp_a912e5e13a2361939b93713a8862c228f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{render_8cpp_a912e5e13a2361939b93713a8862c228f_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{render_8cpp_abd02e0d2de9881fe9c0b60ed36f679a5}\label{render_8cpp_abd02e0d2de9881fe9c0b60ed36f679a5} 
\index{render.cpp@{render.cpp}!x\_mtx@{x\_mtx}}
\index{x\_mtx@{x\_mtx}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{x\_mtx}{x\_mtx}}
{\footnotesize\ttfamily std\+::mutex x\+\_\+mtx \{\}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00016}{16}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00016\ \{\};}

\end{DoxyCode}
\Hypertarget{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}\label{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287} 
\index{render.cpp@{render.cpp}!xcolor\_cache@{xcolor\_cache}}
\index{xcolor\_cache@{xcolor\_cache}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{xcolor\_cache}{xcolor\_cache}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$\mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}, XColor$>$ xcolor\+\_\+cache\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00092}{92}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.

\Hypertarget{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}\label{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b} 
\index{render.cpp@{render.cpp}!xcolor\_hot\_cache@{xcolor\_hot\_cache}}
\index{xcolor\_hot\_cache@{xcolor\_hot\_cache}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{xcolor\_hot\_cache}{xcolor\_hot\_cache}}
{\footnotesize\ttfamily \mbox{\hyperlink{structxcolor__hot__cache__entry__t}{xcolor\+\_\+hot\+\_\+cache\+\_\+entry\+\_\+t}} xcolor\+\_\+hot\+\_\+cache\mbox{[}\mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\+\_\+hot\+\_\+cache\+\_\+size}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00099}{99}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.

\Hypertarget{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}\label{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae} 
\index{render.cpp@{render.cpp}!xcolor\_hot\_cache\_current\_insert\_index@{xcolor\_hot\_cache\_current\_insert\_index}}
\index{xcolor\_hot\_cache\_current\_insert\_index@{xcolor\_hot\_cache\_current\_insert\_index}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{xcolor\_hot\_cache\_current\_insert\_index}{xcolor\_hot\_cache\_current\_insert\_index}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}} xcolor\+\_\+hot\+\_\+cache\+\_\+current\+\_\+insert\+\_\+index = 0U\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00100}{100}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.

\Hypertarget{render_8cpp_aab001fb32391635b1ccd33a2116257fa}\label{render_8cpp_aab001fb32391635b1ccd33a2116257fa} 
\index{render.cpp@{render.cpp}!xcolor\_hot\_cache\_size@{xcolor\_hot\_cache\_size}}
\index{xcolor\_hot\_cache\_size@{xcolor\_hot\_cache\_size}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{xcolor\_hot\_cache\_size}{xcolor\_hot\_cache\_size}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}} xcolor\+\_\+hot\+\_\+cache\+\_\+size = 8\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00098}{98}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.

\Hypertarget{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}\label{render_8cpp_acadf131a291b57e5e893a65f5b97fa59} 
\index{render.cpp@{render.cpp}!xftcolor\_cache@{xftcolor\_cache}}
\index{xftcolor\_cache@{xftcolor\_cache}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{xftcolor\_cache}{xftcolor\_cache}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$\mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}, Xft\+Color\texorpdfstring{$\ast$}{*}$>$ xftcolor\+\_\+cache\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00142}{142}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.

\Hypertarget{render_8cpp_a366be6f40b16667228908e3b2cf09e8a}\label{render_8cpp_a366be6f40b16667228908e3b2cf09e8a} 
\index{render.cpp@{render.cpp}!xlog\_ctrl@{xlog\_ctrl}}
\index{xlog\_ctrl@{xlog\_ctrl}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{xlog\_ctrl}{xlog\_ctrl}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlogging_1_1logger}{logging\+::logger}} xlog\+\_\+ctrl = \{.name = "{}X11\+::\+RENDER\+::\+CTRL"{}, .on = false\}}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00013}{13}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00013\ \{.name\ =\ \textcolor{stringliteral}{"{}X11::RENDER::CTRL"{}},\ .on\ =\ \textcolor{keyword}{false}\};}

\end{DoxyCode}
\Hypertarget{render_8cpp_a8da58dd979b3e2a9a0e492ecb620769c}\label{render_8cpp_a8da58dd979b3e2a9a0e492ecb620769c} 
\index{render.cpp@{render.cpp}!xlog\_task@{xlog\_task}}
\index{xlog\_task@{xlog\_task}!render.cpp@{render.cpp}}
\doxysubsubsection{\texorpdfstring{xlog\_task}{xlog\_task}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlogging_1_1logger}{logging\+::logger}} xlog\+\_\+task = \{.name = "{}X11\+::\+RENDER\+::\+TASK"{}, .on = true\}}



Definition at line \mbox{\hyperlink{render_8cpp_source_l00014}{14}} of file \mbox{\hyperlink{render_8cpp_source}{render.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00014\ \{.name\ =\ \textcolor{stringliteral}{"{}X11::RENDER::TASK"{}},\ .on\ =\ \textcolor{keyword}{true}\};}

\end{DoxyCode}
