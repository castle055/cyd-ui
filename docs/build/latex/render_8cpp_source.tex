\doxysection{render.\+cpp}
\hypertarget{render_8cpp_source}{}\label{render_8cpp_source}\index{src/graphics/x11/render/render.cpp@{src/graphics/x11/render/render.cpp}}
\mbox{\hyperlink{render_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00001}00001\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00002}00002\ \textcolor{comment}{//\ Created\ by\ castle\ on\ 8/23/22.}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00003}00003\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}../state/state.hpp"{}}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{render_8hpp}{render.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{logging_8hpp}{cydstd/logging.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <X11/Xlib.h>}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00011}00011\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespacex11}{x11}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00013}\mbox{\hyperlink{render_8cpp_a366be6f40b16667228908e3b2cf09e8a}{00013}}\ \mbox{\hyperlink{structlogging_1_1logger}{logging::logger}}\ \mbox{\hyperlink{render_8cpp_a366be6f40b16667228908e3b2cf09e8a}{xlog\_ctrl}}\ =\ \{.\mbox{\hyperlink{structlogging_1_1logger_a0b07f4c872683d157a40708b40bfb72d}{name}}\ =\ \textcolor{stringliteral}{"{}X11::RENDER::CTRL"{}},\ .on\ =\ \textcolor{keyword}{false}\};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00014}\mbox{\hyperlink{render_8cpp_a8da58dd979b3e2a9a0e492ecb620769c}{00014}}\ \mbox{\hyperlink{structlogging_1_1logger}{logging::logger}}\ \mbox{\hyperlink{render_8cpp_a8da58dd979b3e2a9a0e492ecb620769c}{xlog\_task}}\ =\ \{.\mbox{\hyperlink{structlogging_1_1logger_a0b07f4c872683d157a40708b40bfb72d}{name}}\ =\ \textcolor{stringliteral}{"{}X11::RENDER::TASK"{}},\ .on\ =\ \textcolor{keyword}{true}\};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00016}\mbox{\hyperlink{render_8cpp_abd02e0d2de9881fe9c0b60ed36f679a5}{00016}}\ \textcolor{keyword}{static}\ std::mutex\ \mbox{\hyperlink{render_8cpp_abd02e0d2de9881fe9c0b60ed36f679a5}{x\_mtx}}\ \{\};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00018}\mbox{\hyperlink{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca}{00018}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca}{render\_sbr}}(\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t}{cydui::graphics::window\_t}}*\ win,\ XImage*\ image)\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00019}00019\ \ \ \textcolor{comment}{//window\_render\_req\ req;}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00020}00020\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00021}00021\ \ \ \textcolor{comment}{//win-\/>render\_mtx.lock();}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00022}00022\ \ \ \textcolor{comment}{//bool\ dirty\ =\ win-\/>dirty;}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00023}00023\ \ \ \textcolor{comment}{//win-\/>dirty\ =\ false;}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00024}00024\ \ \ \textcolor{comment}{//win-\/>render\_mtx.unlock();}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00025}00025\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00026}00026\ \ \ \textcolor{comment}{//if\ (!dirty)}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00027}00027\ \ \ \textcolor{comment}{//\ \ return;}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00028}00028\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00029}00029\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_ada7b7df437402a71353d45d05ef32065}{render\_mtx}}.lock();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00030}00030\ \ \ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00031}00031\ \ \ \ \ image-\/>depth\ =\ DisplayPlanes(\mbox{\hyperlink{namespacex11_1_1state_a53916a7a1ae17627e69ad45f66378fe5}{state::get\_dpy}}(),\ \mbox{\hyperlink{namespacex11_1_1state_a5685733b4b3744465723dda6a15ebef7}{state::get\_screen}}());}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00032}00032\ \ \ \ \ image-\/>format\ =\ ZPixmap;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00033}00033\ \ \ \ \ image-\/>xoffset\ =\ 0;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00034}00034\ \ \ \ \ image-\/>data\ =\ (\textcolor{keywordtype}{char}*)\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structmd__buffer__t_a42db81e853e05dcf04b4f00840bfee30}{data}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00035}00035\ \ \ \ \ image-\/>width\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_afd28dda06874905136d50de6911a0242}{width}}();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00036}00036\ \ \ \ \ image-\/>height\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_aa70c0fa0014f555358a2d07198b00f69}{height}}();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00037}00037\ \ \ \ \ image-\/>bitmap\_pad\ =\ 32;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00038}00038\ \ \ \ \ image-\/>bitmap\_unit\ =\ 32;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00039}00039\ \ \ \ \ image-\/>bits\_per\_pixel\ =\ 32;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00040}00040\ \ \ \ \ image-\/>bytes\_per\_line\ =\ (int)\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_afd28dda06874905136d50de6911a0242}{width}}()\ *\ 4;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00041}00041\ \ \ \ \ \textcolor{keywordflow}{if}\ (0\ !=\ XInitImage(image)}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00042}00042\ \ \ \ \ \ \ \&\&\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a9bd4f23ce9e98928a9efd918cd22d3d1}{gc}})\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00043}00043\ \ \ \ \ \ \ \textcolor{comment}{//if\ (x\_mtx.try\_lock())\ \{}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00044}00044\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \_pev\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aeaaac77ccd1cbcb50a36ce5236d0f0d4}{profiler}}-\/>\mbox{\hyperlink{structprof_1_1context__t_a1be702fd81e660750ae54216bc14ed80}{scope\_event}}(\textcolor{stringliteral}{"{}render::render\_sbr"{}});}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00045}00045\ \ \ \ \ \ \ \textcolor{comment}{//win-\/>x\_mtx.lock();}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00046}00046\ \ \ \ \ \ \ XPutImage(\mbox{\hyperlink{namespacex11_1_1state_a53916a7a1ae17627e69ad45f66378fe5}{state::get\_dpy}}(),}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00047}00047\ \ \ \ \ \ \ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a1eb9b75f5e17f1d1e8b11138eda9ee66}{xwin}},}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00048}00048\ \ \ \ \ \ \ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a9bd4f23ce9e98928a9efd918cd22d3d1}{gc}},}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00049}00049\ \ \ \ \ \ \ \ \ image,}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00050}00050\ \ \ \ \ \ \ \ \ 0,\ 0,}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00051}00051\ \ \ \ \ \ \ \ \ 0,\ 0,}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00052}00052\ \ \ \ \ \ \ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_afd28dda06874905136d50de6911a0242}{width}}(),\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}-\/>\mbox{\hyperlink{structpixelmap__t_aa70c0fa0014f555358a2d07198b00f69}{height}}()}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00053}00053\ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00054}00054\ \ \ \ \ \ \ \textcolor{comment}{//x\_mtx.unlock();}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00055}00055\ \ \ \ \ \ \ \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00056}00056\ \ \ \ \ \ \ \textcolor{comment}{//X\ Flush(state::get\_dpy());}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00057}00057\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00058}00058\ \ \ \ \ \ \ \textcolor{comment}{//XDestroyImage(image);}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00059}00059\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00060}00060\ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00061}00061\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_ada7b7df437402a71353d45d05ef32065}{render\_mtx}}.unlock();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00062}00062\ \ \ \textcolor{comment}{//win-\/>x\_mtx.unlock();}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00063}00063\ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00065}00065\ \textcolor{keyword}{using\ namespace\ }std::chrono\_literals;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00067}\mbox{\hyperlink{render_8cpp_a912e5e13a2361939b93713a8862c228f}{00067}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{render_8cpp_a912e5e13a2361939b93713a8862c228f}{render\_task}}(\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t}{cydui::threading::thread\_t}}*\ this\_thread)\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00068}00068\ \ \ \mbox{\hyperlink{render_8cpp_a8da58dd979b3e2a9a0e492ecb620769c}{xlog\_task}}.\mbox{\hyperlink{structlogging_1_1logger_ad8cb1a2731cf690ffa77a77644551d84}{debug}}(\textcolor{stringliteral}{"{}Started\ render\ thread"{}});}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00069}00069\ \ \ \textcolor{keyword}{auto}*\ render\_data\ =\ (\mbox{\hyperlink{structx11_1_1render_1_1RenderThreadData}{render::RenderThreadData}}*)\ this\_thread-\/>\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t_a4ffcba2ceb7e17d4a78e07ce5a280433}{data}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00070}00070\ \ \ \textcolor{keyword}{auto}\ t0\ =\ std::chrono::system\_clock::now();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00071}00071\ \ \ \textcolor{keywordflow}{while}\ (this\_thread-\/>\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t_a230c1adb68eeb06a399359ebb1fac07b}{running}})\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00072}00072\ \ \ \ \ t0\ =\ std::chrono::system\_clock::now();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00073}00073\ \ \ \ \ \mbox{\hyperlink{render_8cpp_af098c7565dcab42f6f984ca26d81f0ca}{render\_sbr}}(render\_data-\/>win,\ render\_data-\/>image);}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00074}00074\ \ \ \ \ \textcolor{comment}{//std::this\_thread::sleep\_until(t0\ +\ 16666us);\ //\ 60\ FPS}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00075}00075\ \ \ \ \ std::this\_thread::sleep\_until(t0\ +\ 2\ *\ 16666us);\ \textcolor{comment}{//\ 30\ FPS}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00076}00076\ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00077}00077\ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00079}\mbox{\hyperlink{namespacex11_1_1render_a2bab441e71f42470e767c6f6a079a129}{00079}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacex11_1_1render_a2bab441e71f42470e767c6f6a079a129}{render::start}}(\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t}{cydui::graphics::window\_t}}*\ win)\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00080}00080\ \ \ \textcolor{keywordflow}{if}\ (win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a83be54ffd1345a2a4a4766ea596bffab}{render\_thd}}\ \&\&\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a83be54ffd1345a2a4a4766ea596bffab}{render\_thd}}-\/>\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t_a230c1adb68eeb06a399359ebb1fac07b}{running}})}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00081}00081\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00082}00082\ \ \ \mbox{\hyperlink{render_8cpp_a366be6f40b16667228908e3b2cf09e8a}{xlog\_ctrl}}.\mbox{\hyperlink{structlogging_1_1logger_ad8cb1a2731cf690ffa77a77644551d84}{debug}}(\textcolor{stringliteral}{"{}Starting\ render\ thread"{}});}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00083}00083\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00084}00084\ \ \ \textcolor{keyword}{delete}\ (\mbox{\hyperlink{structx11_1_1render_1_1RenderThreadData}{RenderThreadData}}*)\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a5c085ddb9167ec08dad256a39cf46123}{render\_data}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00085}00085\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a5c085ddb9167ec08dad256a39cf46123}{render\_data}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{structx11_1_1render_1_1RenderThreadData}{RenderThreadData}}\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00086}00086\ \ \ \ \ .\mbox{\hyperlink{structx11_1_1render_1_1RenderThreadData_a698181e5f3b8a6a840e5f1ed59fc9c8f}{win}}\ =\ win,}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00087}00087\ \ \ \};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00088}00088\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a83be54ffd1345a2a4a4766ea596bffab}{render\_thd}}\ =\ \mbox{\hyperlink{namespacecydui_1_1threading_ab51f5bf48b28c9022460156c207217f5}{cydui::threading::new\_thread}}(\mbox{\hyperlink{render_8cpp_a912e5e13a2361939b93713a8862c228f}{render\_task}},\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_a5c085ddb9167ec08dad256a39cf46123}{render\_data}})}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00089}00089\ \ \ \ \ -\/>\mbox{\hyperlink{structcydui_1_1threading_1_1thread__t_aa740ecb2c3aec2371e86fca90b115600}{set\_name}}(\textcolor{stringliteral}{"{}RENDER\_THD"{}});}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00090}00090\ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00092}\mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{00092}}\ \textcolor{keyword}{static}\ std::unordered\_map<u32,\ XColor>\ \mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{xcolor\_cache}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00094}\mbox{\hyperlink{structxcolor__hot__cache__entry__t}{00094}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structxcolor__hot__cache__entry__t}{xcolor\_hot\_cache\_entry\_t}}\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00095}\mbox{\hyperlink{structxcolor__hot__cache__entry__t_a9cc389842e49cb4f1fef8adf1e0ddbd5}{00095}}\ \ \ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}\ \mbox{\hyperlink{structxcolor__hot__cache__entry__t_a9cc389842e49cb4f1fef8adf1e0ddbd5}{id}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00096}\mbox{\hyperlink{structxcolor__hot__cache__entry__t_a71c041b619800848e4861bd0fa41c29c}{00096}}\ \ \ XColor\ \mbox{\hyperlink{structxcolor__hot__cache__entry__t_a71c041b619800848e4861bd0fa41c29c}{xcolor}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00097}00097\ \};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00098}\mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{00098}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}\ \mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\_hot\_cache\_size}}\ =\ 8;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00099}\mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{00099}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structxcolor__hot__cache__entry__t}{xcolor\_hot\_cache\_entry\_t}}\ \mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{xcolor\_hot\_cache}}[\mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\_hot\_cache\_size}}];}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00100}\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{00100}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}\ \mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ =\ 0\mbox{\hyperlink{cydui__events_8h_ab3c7af4820830f9166ede9e5623c4e73a4c614360da93c0a041b22e537de151eb}{U}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00102}\mbox{\hyperlink{render_8cpp_a3241cbbe248b21be72e8ac88018b8bb6}{00102}}\ XColor\ \mbox{\hyperlink{render_8cpp_a3241cbbe248b21be72e8ac88018b8bb6}{color\_to\_xcolor}}(\mbox{\hyperlink{structcydui_1_1graphics_1_1color_1_1Color}{color::Color}}\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}})\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00103}00103\ \ \ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}\ color\_id\ =\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_id();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00104}00104\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00105}00105\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \&entry:\ \mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{xcolor\_hot\_cache}})\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00106}00106\ \ \ \ \ \textcolor{keywordflow}{if}\ (entry.id\ ==\ color\_id)\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00107}00107\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ entry.xcolor;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00108}00108\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00109}00109\ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00110}00110\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00111}00111\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{xcolor\_cache}}.contains(color\_id))\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00112}00112\ \ \ \ \ \textcolor{keyword}{auto}\ \&c\ =\ \mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{xcolor\_cache}}[color\_id];}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00113}00113\ \ \ \ \ \mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{xcolor\_hot\_cache}}[\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}++]\ =\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00114}00114\ \ \ \ \ \ \ .\mbox{\hyperlink{structxcolor__hot__cache__entry__t_a9cc389842e49cb4f1fef8adf1e0ddbd5}{id}}\ =\ color\_id,}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00115}00115\ \ \ \ \ \ \ .xcolor\ =\ c,}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00116}00116\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00117}00117\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ >=\ \mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\_hot\_cache\_size}})\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00118}00118\ \ \ \ \ \ \ \mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ =\ 0\mbox{\hyperlink{cydui__events_8h_ab3c7af4820830f9166ede9e5623c4e73a4c614360da93c0a041b22e537de151eb}{U}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00119}00119\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00120}00120\ \ \ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00121}00121\ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00122}00122\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00123}00123\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}}\ =\ \mbox{\hyperlink{namespacex11_1_1state_a53916a7a1ae17627e69ad45f66378fe5}{state::get\_dpy}}();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00124}00124\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}}\ =\ \mbox{\hyperlink{namespacex11_1_1state_a5685733b4b3744465723dda6a15ebef7}{state::get\_screen}}();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00125}00125\ \ \ Colormap\ map\ =\ DefaultColormap(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}});}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00126}00126\ \ \ XColor\ c;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00127}00127\ \ \ XParseColor(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ map,\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_string().c\_str(),\ \&c);}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00128}00128\ \ \ XAllocColor(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ map,\ \&c);}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00129}00129\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00130}00130\ \ \ \mbox{\hyperlink{render_8cpp_a2b9abf4b5b7da294a3cb7fcd9946444b}{xcolor\_hot\_cache}}[\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}++]\ =\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00131}00131\ \ \ \ \ .\mbox{\hyperlink{structxcolor__hot__cache__entry__t_a9cc389842e49cb4f1fef8adf1e0ddbd5}{id}}\ =\ color\_id,}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00132}00132\ \ \ \ \ .xcolor\ =\ c,}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00133}00133\ \ \ \};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00134}00134\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ >=\ \mbox{\hyperlink{render_8cpp_aab001fb32391635b1ccd33a2116257fa}{xcolor\_hot\_cache\_size}})\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00135}00135\ \ \ \ \ \mbox{\hyperlink{render_8cpp_a664a41f6cad52c7d2bb9aa8022917fae}{xcolor\_hot\_cache\_current\_insert\_index}}\ =\ 0\mbox{\hyperlink{cydui__events_8h_ab3c7af4820830f9166ede9e5623c4e73a4c614360da93c0a041b22e537de151eb}{U}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00136}00136\ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00137}00137\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00138}00138\ \ \ \mbox{\hyperlink{render_8cpp_a530de18bc8cf7993ec9d2eef68d73287}{xcolor\_cache}}[color\_id]\ =\ c;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00139}00139\ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00140}00140\ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00142}\mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{00142}}\ \textcolor{keyword}{static}\ std::unordered\_map<u32,\ XftColor*>\ \mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{xftcolor\_cache}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00144}\mbox{\hyperlink{render_8cpp_a21a1a805e821f2aed3fda93f912fe297}{00144}}\ XftColor*\ \mbox{\hyperlink{render_8cpp_a21a1a805e821f2aed3fda93f912fe297}{color\_to\_xftcolor}}(\mbox{\hyperlink{structcydui_1_1graphics_1_1color_1_1Color}{color::Color}}\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}})\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00145}00145\ \ \ \mbox{\hyperlink{namespacecydstd_1_1types_1_1primitives_ac8db3a4667f052ca03c96f9a66539545}{u32}}\ color\_id\ =\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_id();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00146}00146\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{xftcolor\_cache}}.contains(color\_id))}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00147}00147\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{xftcolor\_cache}}[color\_id];}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00148}00148\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00149}00149\ \ \ \textcolor{keyword}{auto}*\ c\ =\ \textcolor{keyword}{new}\ XftColor;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00150}00150\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00151}00151\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}}\ =\ \mbox{\hyperlink{namespacex11_1_1state_a53916a7a1ae17627e69ad45f66378fe5}{state::get\_dpy}}();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00152}00152\ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}}\ =\ \mbox{\hyperlink{namespacex11_1_1state_a5685733b4b3744465723dda6a15ebef7}{state::get\_screen}}();}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00153}00153\ \ \ \textcolor{keywordflow}{if}\ (!XftColorAllocName(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00154}00154\ \ \ \ \ DefaultVisual(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}}),}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00155}00155\ \ \ \ \ DefaultColormap(\mbox{\hyperlink{state_8cpp_a7d43b3edf58f8d85a89852ab95b740f6}{dpy}},\ \mbox{\hyperlink{state_8cpp_a3109b0889cec9f0de874a2bdc1f84372}{screen}}),}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00156}00156\ \ \ \ \ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_string().c\_str(),}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00157}00157\ \ \ \ \ c))\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00158}00158\ \ \ \ \ \mbox{\hyperlink{render_8cpp_a366be6f40b16667228908e3b2cf09e8a}{xlog\_ctrl}}.\mbox{\hyperlink{structlogging_1_1logger_ae412f4d42c6e53803201856b5ceba5aa}{error}}(\textcolor{stringliteral}{"{}Cannot\ allocate\ color\ \%s"{}},\ \mbox{\hyperlink{namespacecydui_1_1graphics_1_1color}{color}}.to\_string().c\_str());}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00159}00159\ \ \ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00160}00160\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00161}00161\ \ \ \mbox{\hyperlink{render_8cpp_acadf131a291b57e5e893a65f5b97fa59}{xftcolor\_cache}}[color\_id]\ =\ c;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00162}00162\ \ \ \textcolor{keywordflow}{return}\ c;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00163}00163\ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00164}00164\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00165}\mbox{\hyperlink{namespacex11_1_1render_a99ca4e1290cd749fd3fb12635d8e69f7}{00165}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacex11_1_1render_a99ca4e1290cd749fd3fb12635d8e69f7}{render::resize}}(\mbox{\hyperlink{structpixelmap__t}{pixelmap\_t}}*\ target,\ \textcolor{keywordtype}{int}\ w,\ \textcolor{keywordtype}{int}\ h)\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00166}00166\ \ \ \textcolor{comment}{//if\ (w\ !=\ target-\/>w\ ||\ h\ !=\ target-\/>h)\ \{}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00167}00167\ \ \ \textcolor{comment}{//\ \ Drawable\ new\_drw\ =\ XCreatePixmap(state::get\_dpy(),}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00168}00168\ \ \ \textcolor{comment}{//\ \ \ \ target-\/>win-\/>xwin,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00169}00169\ \ \ \textcolor{comment}{//\ \ \ \ w,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00170}00170\ \ \ \textcolor{comment}{//\ \ \ \ h,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00171}00171\ \ \ \textcolor{comment}{//\ \ \ \ DefaultDepth(state::get\_dpy(),\ state::get\_screen()));}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00172}00172\ \ \ \textcolor{comment}{//\ \ XSetForeground(state::get\_dpy(),}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00173}00173\ \ \ \textcolor{comment}{//\ \ \ \ target-\/>gc,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00174}00174\ \ \ \textcolor{comment}{//\ \ \ \ BlackPixel(state::get\_dpy(),\ state::get\_screen()));}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00175}00175\ \ \ \textcolor{comment}{//\ \ XFillRectangle(state::get\_dpy(),\ new\_drw,\ target-\/>gc,\ 0,\ 0,\ w,\ h);}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00176}00176\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00177}00177\ \ \ \textcolor{comment}{//\ \ //target-\/>win-\/>x\_mtx.lock();}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00178}00178\ \ \ \textcolor{comment}{//\ \ XCopyArea(state::get\_dpy(),}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00179}00179\ \ \ \textcolor{comment}{//\ \ \ \ target-\/>drawable,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00180}00180\ \ \ \textcolor{comment}{//\ \ \ \ new\_drw,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00181}00181\ \ \ \textcolor{comment}{//\ \ \ \ target-\/>gc,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00182}00182\ \ \ \textcolor{comment}{//\ \ \ \ 0,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00183}00183\ \ \ \textcolor{comment}{//\ \ \ \ 0,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00184}00184\ \ \ \textcolor{comment}{//\ \ \ \ target-\/>w,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00185}00185\ \ \ \textcolor{comment}{//\ \ \ \ target-\/>h,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00186}00186\ \ \ \textcolor{comment}{//\ \ \ \ 0,}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00187}00187\ \ \ \textcolor{comment}{//\ \ \ \ 0);}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00188}00188\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00189}00189\ \ \ \textcolor{comment}{//\ \ XFreePixmap(state::get\_dpy(),\ target-\/>drawable);}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00190}00190\ \ \ \textcolor{comment}{//\ \ XFreeGC(state::get\_dpy(),\ target-\/>gc);}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00191}00191\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00192}00192\ \ \ \textcolor{comment}{//\ \ target-\/>drawable\ =\ new\_drw;}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00193}00193\ \ \ \textcolor{comment}{//\ \ target-\/>gc\ =\ XCreateGC(state::get\_dpy(),\ target-\/>drawable,\ 0,\ NULL);}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00194}00194\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00195}00195\ \ \ \textcolor{comment}{//\ \ //target-\/>win-\/>x\_mtx.unlock();}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00196}00196\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00197}00197\ \ \ \textcolor{comment}{//\ \ XFlush(state::get\_dpy());}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00198}00198\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00199}00199\ \ \ \textcolor{comment}{//\ \ target-\/>w\ =\ w;}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00200}00200\ \ \ \textcolor{comment}{//\ \ target-\/>h\ =\ h;}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00201}00201\ \ \ \textcolor{comment}{//\ \ render::flush(target-\/>win);}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00202}00202\ \ \ \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00203}00203\ \}}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00205}\mbox{\hyperlink{namespacex11_1_1render_a69153a2a848d57aef839a05e0982a76a}{00205}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacex11_1_1render_a69153a2a848d57aef839a05e0982a76a}{render::flush}}(\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t}{cydui::graphics::window\_t}}*\ win)\ \{}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00206}00206\ \ \ std::lock\_guard\ lk\ \{win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_ada7b7df437402a71353d45d05ef32065}{render\_mtx}}\};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00207}00207\ \ \ \textcolor{keyword}{auto}\ \_pev\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aeaaac77ccd1cbcb50a36ce5236d0f0d4}{profiler}}-\/>\mbox{\hyperlink{structprof_1_1context__t_a1be702fd81e660750ae54216bc14ed80}{scope\_event}}(\textcolor{stringliteral}{"{}render::flush"{}});}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00208}00208\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00209}00209\ \ \ \textcolor{keyword}{auto}*\ tmp\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00210}00210\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_aac71ce31fada0d62b259b3099d06727a}{render\_target}}\ =\ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_ad72eebf095eba2d7a2f42d16e90ed522}{staging\_target}};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00211}00211\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_ad72eebf095eba2d7a2f42d16e90ed522}{staging\_target}}\ =\ tmp;}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00212}00212\ \ \ }
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00213}00213\ \ \ win-\/>\mbox{\hyperlink{structcydui_1_1graphics_1_1window__t_acb63b36da8b18c305f4df398e2b0cb98}{dirty}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{render_8cpp_source_l00214}00214\ \}}

\end{DoxyCode}
